(this["webpackJsonpreact-8"]=this["webpackJsonpreact-8"]||[]).push([[0],{12:function(e,t,s){},14:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s(1),n=s.n(a),r=s(6),i=s.n(r);s(12);var j=function(e){var t=e.title;return Object(c.jsx)("div",{className:"TaskHeader",children:Object(c.jsx)("h1",{className:"TaskHeader-title",children:t})})},o=s(3),l=s.n(o),u=s(4),d=s(2);var b=function(e){var t=e.list,s=e.selected,a=e.onClick;return Object(c.jsx)("ul",{className:"List",children:t.map((function(e,t){var n=e.id,r=e.name;return Object(c.jsx)("li",{className:t===s?"List-item List-item-selected":"List-item",onClick:function(){return a(n)},children:r},n)}))})};var h=function(e){var t=e.info,s=e.fetchData,n=t.id,r=Object(a.useState)({details:{}}),i=Object(d.a)(r,2),j=i[0],o=i[1],l=j.name,u=j.avatar,b=j.details,h=b.city,O=b.company,x=b.position;return Object(a.useEffect)((function(){s("".concat(n,".json"),(function(e){o(e)}))}),[n]),Object(c.jsxs)("div",{className:"Details",children:[Object(c.jsx)("img",{className:"Details-image",src:u,alt:"no avatar",width:"300px"}),Object(c.jsx)("h3",{className:"Details-name",children:l}),Object(c.jsxs)("p",{className:"Details-item",children:["City: ",h]}),Object(c.jsxs)("p",{className:"Details-item",children:["Company: ",O]}),Object(c.jsxs)("p",{className:"Details-item",children:["Position: ",x]})]})};var O=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),s=t[0],n=t[1],r=Object(a.useState)(-1),i=Object(d.a)(r,2),j=i[0],o=i[1],O=Object(a.useState)(!1),x=Object(d.a)(O,2),p=x[0],f=x[1],m=Object(a.useState)(null),v=Object(d.a)(m,2),N=v[0],k=v[1];Object(a.useEffect)((function(){g("users.json",(function(e){n(e),o(-1)}))}),[]);var g=function(){var e=Object(u.a)(l.a.mark((function e(t,s){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,fetch("https://raw.githubusercontent.com/netology-code/ra16-homeworks/master/hooks-context/use-effect/data/"+t);case 4:if((c=e.sent).ok){e.next=7;break}throw new Error(c.statusText);case 7:return e.next=9,c.json();case 9:a=e.sent,k(null),s(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),k(e.t0);case 17:return e.prev=17,f(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})));return function(t,s){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"ListApp",children:[Object(c.jsxs)("div",{className:"ListApp-container",children:[Object(c.jsx)(b,{list:s,selected:j,onClick:function(e){o(s.findIndex((function(t){return t.id===e})))}}),j>=0&&Object(c.jsx)(h,{info:s[j],fetchData:g})]}),p&&Object(c.jsx)("div",{className:"ListApp-loading",children:Object(c.jsx)("p",{className:"ListApp-loading-text",children:"Loading..."})}),N&&Object(c.jsx)("p",{className:"ListApp-error",children:N.message?N.message:"Server not found"})]})};var x=function(e,t){var s=Object(a.useState)(),c=Object(d.a)(s,2),n=c[0],r=c[1],i=Object(a.useState)(!1),j=Object(d.a)(i,2),o=j[0],b=j[1],h=Object(a.useState)(null),O=Object(d.a)(h,2),x=O[0],p=O[1];return Object(a.useEffect)((function(){(function(){var s=Object(u.a)(l.a.mark((function s(){var c,a;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return b(!0),s.prev=1,s.next=4,fetch(e,t);case 4:if((c=s.sent).ok){s.next=7;break}throw new Error(c.statusText);case 7:return s.next=9,c.json();case 9:a=s.sent,p(null),r(a),s.next=17;break;case 14:s.prev=14,s.t0=s.catch(1),p(s.t0);case 17:return s.prev=17,b(!1),s.finish(17);case 20:case"end":return s.stop()}}),s,null,[[1,14,17,20]])})));return function(){return s.apply(this,arguments)}})()()}),[]),[n,o,x]};var p=function(e){var t=e.path,s=x("http://localhost:7070/"+t),a=Object(d.a)(s,3),n=a[0],r=a[1],i=a[2],j=Object(c.jsx)("div",{className:"JsonFetch-data",children:"object"===typeof n&&Object.keys(n).map((function(e,t){return Object(c.jsx)("p",{children:e+": "+n[e]},t)}))}),o=i&&i.message?i.message:"Server Not Found";return Object(c.jsxs)("div",{className:"JsonFetch",children:[i?Object(c.jsx)("p",{className:"JsonFetch-error",children:o}):j,r&&Object(c.jsx)("div",{className:"JsonFetch-loading",children:Object(c.jsx)("p",{className:"JsonFetch-loading-text",children:"Loading..."})})]})};var f=function(){return Object(c.jsxs)(n.a.Fragment,{children:[Object(c.jsxs)("div",{className:"task-1",children:[Object(c.jsx)(j,{title:"\u0417\u0430\u0434\u0430\u0447\u0430 1"}),Object(c.jsx)(O,{})]}),Object(c.jsxs)("div",{className:"task-2",children:[Object(c.jsx)(j,{title:"\u0417\u0430\u0434\u0430\u0447\u0430 2"}),Object(c.jsxs)("div",{className:"task-2-container",children:[Object(c.jsx)(p,{path:"data"}),Object(c.jsx)(p,{path:"error"}),Object(c.jsx)(p,{path:"loading"}),Object(c.jsx)(p,{path:"non_existent"})]})]})]})};i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(f,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.9fa83728.chunk.js.map